# Concurrency & Parallelism (동시성과 병렬성)



### 배달회사 예시

- 일의 과정
  - 전화로 주문을 받음(2분)
  - 주문 받은 내용대로 음식점에서 구매 (10분)
  - 음식 받아서 배달 완료(10분)
- 전화주문(request) 완료 후 > 음식점 구매 > 배달 순서로 가는 경우 request에 대한 동시성 저하

- 동시성 높이기
  - 주문은 언제든지 받도록 하자
  - 병렬성 저하 
    - 요청과 응답 사이의 respond time이 길어짐
- 병렬성 높이기
  - 배달원(스레드) 의 숫자를 늘리기
- App의 Main 스레드는 event loop에 대해 처리하는 등의 역할을 맡음
  - 별도의 스레드들을 만들어서 서비스로직에 대응해야 함



# Queue, Sync and Async

- 배달 성과가 높은 직원 (Async)
  - 전화주문(Request)은 1,2,3의 순서로 받음
  - 일을 처리할 때는 빨리 끝내기 쉬운 일을 먼저 끝내기도 함.
  - 동시다발적으로 일을 수행함
- 성과가 좋지 못한 직원 (Sync)
  - 전화주문(Request)은 1,2,3의 순서로 받음(동일)
  - 일을 처리할 때는 request 1에 해당하는 것을 먼저 전부 진행
  - request가 들어온 순서대로 음식사기 -> 배달 -> 배달완료 보고 를 진행함
- 직원들이 할 일을 적어놓은 Todo list (Queue)



- App은 여러 스레드를 통해서 작업을 수행

- 각 스레드는 Queue에 있는 작업을 순서대로 꺼내서 수행하게 됨

  - 수행 방식은 Sync or Async
  - 가령, Network 스레드가 작업(다운로드) 완료 시 Main스레드에 전달하여, 메인스레드는 이에 대한 후속 작업(UI 갱신)을 진행함

  